

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Gini Vision SDK for Android v1 documentation</title>
  

  
  

  
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic|Source+Code+Pro|Roboto+Slab:400,700" rel="stylesheet" type="text/css" />

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'./',
        VERSION:'v1',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
    <script type="text/javascript">
        jQuery(function () {
            SphinxRtdTheme.StickyNav.enable();
        });
    </script>
  

  
    <link rel="top" title="None" href="index.html#document-index"/> 

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html#document-index" id="gini-logo">gini API</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-guides/getting-started">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/getting-started#first-of-all-integrate-the-library">First of all: Integrate the Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/getting-started#v7-support-library">v7 Support Library</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/getting-started#required-permissions-and-features">Required Permissions and Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/getting-started#use-a-large-heap">Use a Large Heap</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/getting-started#example-a-complete-manifest-file">Example: A Complete Manifest File</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/getting-started#check-whether-the-device-supports-all-gini-vision-requirements">Check whether the device supports all Gini Vision requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/getting-started#next-use-the-scanner-activity">Next: Use the Scanner Activity</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-guides/using-the-scanneractivity">Using the Scanner Activity</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/using-the-scanneractivity#starting-the-scanner-activity">Starting the Scanner Activity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/using-the-scanneractivity#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/using-the-scanneractivity#getting-the-results-of-the-scanner">Getting the Results of the Scanner</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/using-the-scanneractivity#bitmapfuture"><tt class="docutils literal"><span class="pre">BitmapFuture</span></tt></a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/using-the-scanneractivity#jpegfuture"><tt class="docutils literal"><span class="pre">JpegFuture</span></tt></a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/using-the-scanneractivity#scanner-activity-results-example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/using-the-scanneractivity#jpeg-exif-tags">Jpeg Exif Tags</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/using-the-scanneractivity#upload-the-document-to-gini-using-the-gini-api-sdk">Upload the Document to Gini using the Gini API SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/using-the-scanneractivity#full-example">Full Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-guides/styling">Styling the Image Capturing Screens</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#screen-resources">Screen Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/styling#camera-screen">Camera Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/styling#help-screen-1">Help Screen #1</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/styling#help-screen-2">Help Screen #2</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/styling#help-screen-3">Help Screen #3</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/styling#help-screen-4">Help Screen #4</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/styling#processing-screen">Processing Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/styling#list-of-all-image-files">List of all image files</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/styling#list-of-all-animations">List of all animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/styling#list-of-all-text-ressources">List of all text ressources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#customizable-colors">Customizable colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#customizable-fonts">Customizable fonts</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#customizable-actionbar-menus">Customizable ActionBar Menus</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#actionbar-back-button">ActionBar back button</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#centering-the-actionbar-title">Centering the ActionBar title</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#dot-page-indicator-in-the-help">Dot page indicator in the help</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#activity-indicator-during-upload">Activity indicator during upload</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#custom-animation-during-upload">Custom Animation during upload</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#customizable-dimensions">Customizable Dimensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/styling#debug-options">Debug Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-guides/styling#enabling-the-framemeter">Enabling the framemeter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-guides/logging">Logging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guides/logging#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-changelog">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id1">1.0.231 (2016-07-22)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#bugfix">Bugfix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id2">1.0.220 (2016-03-01)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id3">Bugfix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id4">1.0.216 (2016-02-25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id5">Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id6">1.0.212 (2016-01-20)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#fix">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id7">1.0.210 (2016-01-20)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id8">Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id9">1.0.204 (2015-12-09)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#bugfixes">Bugfixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id10">1.0.200 (2015-12-07)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id11">Bugfix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id12">1.0.197 (2015-11-25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id13">Bugfix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id14">1.0.194 (2015-11-24)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id15">Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id16">1.0.190 (2015-11-13)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id17">Bugfixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id18">1.0.182 (2015-10-15)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id19">Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id20">1.0.170 (2015-09-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id21">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id22">Bugfixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id23">1.0.162 (2015-09-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id24">Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id25">1.0.158 (2015-09-09)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id26">Bugfixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id27">1.0.156 (2015-08-28)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id28">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id29">Bugfix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id30">1.0.153 (2015-08-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id31">Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id32">1.0.150 (2015-08-19)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id33">Bugfix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id34">1.0.147 (2015-08-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id35">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id36">Bugfix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id37">1.0.139 (2015-08-17)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id38">Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id39">1.0.137 (2015-08-12)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id40">Bugfix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id41">1.0.136 (2015-08-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id42">Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id43">1.0.135 (2015-08-07)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id44">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id45">Bugfixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id46">1.0.132 (2015-08-05)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id47">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id48">Bugfixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-changelog#id49">1.0.131 (2015-08-04)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-changelog#id50">Features</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-license">License</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-license#licenses-and-acknowledgements-for-incorporated-software">Licenses and Acknowledgements for Incorporated Software</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-license#opencv">OpenCV</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-license#slf4j">SLF4J</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-license#apache-commons-sanselan">Apache Commons Sanselan</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html#document-index">Gini Vision SDK for Android</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html#document-index">Docs</a> &raquo;</li>
      
    <li>Gini Vision SDK for Android v1 documentation</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="gini-android-vision-documentation">
<h1>Gini Android Vision documentation<a class="headerlink" href="#gini-android-vision-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Gini provides an information extraction system for analyzing documents (e. g. invoices or
contracts), specifically information such as the document sender or the amount to pay in an invoice.</p>
<p>The Gini Vision for Android library provides functionality to capture documents with mobile phones.
The captured images are automatically enhanced on the device and optimized so they provide both the
best results when used with the Gini API and an optimized user experience.</p>
</div>
<div class="section" id="table-of-contents">
<h2>Table of contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-guides/getting-started"></span><div class="section" id="getting-started">
<span id="guide-getting-started"></span><h3>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h3>
<div class="section" id="first-of-all-integrate-the-library">
<h4>First of all: Integrate the Library<a class="headerlink" href="#first-of-all-integrate-the-library" title="Permalink to this headline">¶</a></h4>
<p>The gini vision is provided as a aar archive. You can integrate it in your gradle based project by adding it as
dependency. In order to gain access to the aar file, you have to add the Gini Maven repository to your build script.</p>
<div class="highlight-groovy"><div class="highlight"><pre><span class="n">repositories</span> <span class="o">{</span>
    <span class="n">maven</span> <span class="o">{</span>
        <span class="n">credentials</span> <span class="o">{</span>
            <span class="n">username</span> <span class="n">project</span><span class="o">.</span><span class="na">hasProperty</span><span class="o">(</span><span class="s1">&#39;giniRepoUser&#39;</span><span class="o">)</span> <span class="o">?</span> <span class="n">giniRepoUser</span> <span class="o">:</span> <span class="s1">&#39;invalidUser&#39;</span>
            <span class="n">password</span> <span class="n">project</span><span class="o">.</span><span class="na">hasProperty</span><span class="o">(</span><span class="s1">&#39;giniRepoPassword&#39;</span><span class="o">)</span> <span class="o">?</span> <span class="n">giniRepoPassword</span> <span class="o">:</span> <span class="s1">&#39;invalidPassword&#39;</span>
        <span class="o">}</span>
        <span class="n">url</span> <span class="s2">&quot;https://repo.gini.net/nexus/content/repositories/releases&quot;</span>

    <span class="o">}</span>
    <span class="o">...</span>
<span class="o">}</span>

<span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">compile</span> <span class="o">(</span><span class="s1">&#39;net.gini:ginivision-android-sdk:1.0.231@aar&#39;</span><span class="o">){</span>
        <span class="n">transitive</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="o">}</span>
    <span class="o">...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>In the example above we inject the repo credentials via project properties which can be provided in several ways
(<a class="reference external" href="https://gradle.org/documentation/">See the gradle documentation</a>). Please contact
<a class="reference external" href="mailto:technical-support&#37;&#52;&#48;gini&#46;net">Technical Support</a> if you don&#8217;t have the credentials for the Gini repo.</p>
<div class="section" id="v7-support-library">
<h5>v7 Support Library<a class="headerlink" href="#v7-support-library" title="Permalink to this headline">¶</a></h5>
<p>The default aar archive uses <cite>android.app.Activity</cite> as the base class for activities. If you use the <cite>v7 Support Library</cite> and
require activities extending <cite>android.support.v7.app.AppCompatActivity</cite> you can use the compatibility build <cite>ginivision-android-sdk-compat</cite>.</p>
<div class="highlight-groovy"><div class="highlight"><pre><span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">compile</span> <span class="o">(</span><span class="s1">&#39;net.gini:ginivision-android-sdk-compat:1.0.231@aar&#39;</span><span class="o">){</span>
        <span class="n">transitive</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="o">}</span>
    <span class="o">...</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="required-permissions-and-features">
<h4>Required Permissions and Features<a class="headerlink" href="#required-permissions-and-features" title="Permalink to this headline">¶</a></h4>
<p>The Gini Vision library for Android needs access to the device&#8217;s camera. Therefore your application needs to request
permission to access the camera, which, in Android, is achieved by adding the following line to your application&#8217;s
manifest file.
<a class="reference external" href="http://developer.android.com/guide/topics/manifest/manifest-intro.html">See the Android documentation</a>.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.CAMERA&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>With Android 6.0 (Marshmallow) comes a new permission handling system. Apps targeting Android SDK 23 or higher need to
request each permission listed in the manifest from the user at run time.
<a class="reference external" href="http://developer.android.com/training/permissions/requesting.html">See Requesting Permissions at Run Time</a>.</p>
<p>The Gini Vision Library does not request the camera permission; we leave it up to you to request it. This way you can
show a custom explanation and request the permission where it&#8217;s best suited for your app.</p>
<p>The only requirement is, that you must request the camera permission before launching Gini Vision:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">requestCameraPermission</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">ContextCompat</span><span class="o">.</span><span class="na">checkSelfPermission</span><span class="o">(</span><span class="k">this</span><span class="o">,</span>
            <span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">CAMERA</span><span class="o">)</span>
            <span class="o">!=</span> <span class="n">PackageManager</span><span class="o">.</span><span class="na">PERMISSION_GRANTED</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">ActivityCompat</span><span class="o">.</span><span class="na">shouldShowRequestPermissionRationale</span><span class="o">(</span><span class="n">thisActivity</span><span class="o">,</span>
                <span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">CAMERA</span><span class="o">))</span> <span class="o">{</span>
            <span class="c1">// Show an exlpanation to the user *asynchronously* -- don&#39;t block</span>
            <span class="c1">// this thread waiting for the user&#39;s response! After the user</span>
            <span class="c1">// sees the explanation, try again to request the permission.</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="c1">// No explanation needed, we can request the permission.</span>
            <span class="n">ActivityCompat</span><span class="o">.</span><span class="na">requestPermissions</span><span class="o">(</span><span class="k">this</span><span class="o">,</span>
                <span class="k">new</span> <span class="n">String</span><span class="o">[]{</span><span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">CAMERA</span><span class="o">},</span>
                <span class="n">PERMISSION_REQUEST_CAMERA</span><span class="o">);</span>

            <span class="c1">// PERMISSION_REQUEST_CAMERA is an</span>
            <span class="c1">// app-defined int constant. The callback method gets the</span>
            <span class="c1">// result of the request.</span>
        <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">startGiniVision</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onRequestPermissionsResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span>
                                       <span class="n">String</span> <span class="n">permissions</span><span class="o">[],</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">grantResults</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">requestCode</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="n">PERMISSION_REQUEST_CAMERA</span><span class="o">:</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">grantResults</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="mi">0</span>
                    <span class="o">&amp;&amp;</span> <span class="n">grantResults</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">==</span> <span class="n">PackageManager</span><span class="o">.</span><span class="na">PERMISSION_GRANTED</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">startGiniVision</span><span class="o">();</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="c1">// Request not granted</span>
            <span class="o">}</span>
            <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The Gini Vision library for Android also depends on some hardware features which the device must support. It is best
practice to declare these required features in the manifest file as well,
<a class="reference external" href="http://developer.android.com/guide/topics/manifest/uses-feature-element.html">as described in the Android documentation</a>.</p>
<p>The following is the full listing of all required features which you should add to your application&#8217;s manifest file.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;uses-feature</span> <span class="na">android:name=</span><span class="s">&quot;android.hardware.sensor.accelerometer&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;uses-feature</span> <span class="na">android:name=</span><span class="s">&quot;android.hardware.camera&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;uses-feature</span> <span class="na">android:name=</span><span class="s">&quot;android.hardware.camera.flash&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;uses-feature</span> <span class="na">android:name=</span><span class="s">&quot;android.hardware.camera.autofocus&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="use-a-large-heap">
<h4>Use a Large Heap<a class="headerlink" href="#use-a-large-heap" title="Permalink to this headline">¶</a></h4>
<p>Unfortunately, image processing is a memory intensive task. Because of that, you must request a larger heap size by
<a class="reference external" href="http://developer.android.com/guide/topics/manifest/application-element.html#largeHeap">by setting the largeHeap attribute to &#8220;true&#8221;</a>
in the manifest &lt;application&gt; tag. Otherwise it is likely that your application will crash due to an
<cite>OutOfMemoryException</cite>.</p>
</div>
<div class="section" id="example-a-complete-manifest-file">
<h4>Example: A Complete Manifest File<a class="headerlink" href="#example-a-complete-manifest-file" title="Permalink to this headline">¶</a></h4>
<p>Listed below is the example of a complete manifest file, declaring all required permissions and features.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na">package=</span><span class="s">&quot;net.gini.android.visiontest&quot;</span> <span class="nt">&gt;</span>

    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.CAMERA&quot;</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;uses-feature</span> <span class="na">android:name=</span><span class="s">&quot;android.hardware.camera&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;uses-feature</span> <span class="na">android:name=</span><span class="s">&quot;android.hardware.camera.autofocus&quot;</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.INTERNET&quot;</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;application</span>
        <span class="na">android:allowBackup=</span><span class="s">&quot;true&quot;</span>
        <span class="na">android:icon=</span><span class="s">&quot;@drawable/ic_launcher&quot;</span>
        <span class="na">android:label=</span><span class="s">&quot;@string/app_name&quot;</span>
        <span class="na">android:largeHeap=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;activity</span>
            <span class="na">android:name=</span><span class="s">&quot;.StartActivity&quot;</span>
            <span class="na">android:label=</span><span class="s">&quot;Gini Testing&quot;</span> <span class="nt">&gt;</span>
            <span class="nt">&lt;intent-filter&gt;</span>
                <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.action.MAIN&quot;</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.category.LAUNCHER&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/intent-filter&gt;</span>
        <span class="nt">&lt;/activity&gt;</span>
    <span class="nt">&lt;/application&gt;</span>

<span class="nt">&lt;/manifest&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="check-whether-the-device-supports-all-gini-vision-requirements">
<h4>Check whether the device supports all Gini Vision requirements<a class="headerlink" href="#check-whether-the-device-supports-all-gini-vision-requirements" title="Permalink to this headline">¶</a></h4>
<p>The Gini Vision library for Android provides a helper method that you can use in your application&#8217;s <tt class="docutils literal"><span class="pre">Activity</span></tt> to
check whether the device supports all requirements:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">static</span> <span class="n">net</span><span class="o">.</span><span class="na">gini</span><span class="o">.</span><span class="na">android</span><span class="o">.</span><span class="na">vision</span><span class="o">.</span><span class="na">Helpers</span><span class="o">.</span><span class="na">fitsGiniVisionRequirements</span><span class="o">;</span>

<span class="c1">// Somewhere in your activity</span>

<span class="k">if</span> <span class="o">(!</span><span class="n">fitsGiniVisionRequirements</span><span class="o">(</span><span class="k">this</span><span class="o">))</span> <span class="o">{</span>
    <span class="c1">// Some action here (e.g. show a message, don&#39;t show some button etc.)</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><cite>fitsGiniVisionRequirements()</cite> uses <cite>Camera.open()</cite> which may take a long time to complete on some devices. You should call this method from a worker thread
to avoid blocking the main application UI thread.</p>
</div>
</div>
<div class="section" id="next-use-the-scanner-activity">
<h4>Next: Use the Scanner Activity<a class="headerlink" href="#next-use-the-scanner-activity" title="Permalink to this headline">¶</a></h4>
<p>After you have integrated the Gini Vision library for Android successfully and your application requests all the
necessary permissions, you are good to go. Learn next
<a class="reference internal" href="index.html#guide-using-the-scanner-activity"><em>How to Use the Scanner Activity to Scan Documents.</em></a>.</p>
</div>
</div>
<span id="document-guides/using-the-scanneractivity"></span><div class="section" id="using-the-scanner-activity">
<span id="guide-using-the-scanner-activity"></span><h3>Using the Scanner Activity<a class="headerlink" href="#using-the-scanner-activity" title="Permalink to this headline">¶</a></h3>
<p>The Scanner Activity (<tt class="docutils literal"><span class="pre">net.gini.vision.android.ScannerActivity</span></tt>) is the main feature of the Gini Vision library for
Android. Basically your application starts this activity and gets the cropped and enhanced image when the activity
returns with results.</p>
<div class="section" id="starting-the-scanner-activity">
<h4>Starting the Scanner Activity<a class="headerlink" href="#starting-the-scanner-activity" title="Permalink to this headline">¶</a></h4>
<p>The <tt class="docutils literal"><span class="pre">Intent</span></tt> which triggers the scanner activity must be parameterized. There are three mandatory parameters:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_UPLOAD_ACTIVITY</span></tt></dt>
<dd>The <tt class="docutils literal"><span class="pre">UploadActitvity</span></tt> must be set which is called after the document has been captured. This class
must extend the <tt class="docutils literal"><span class="pre">net.gini.android.vision.UploadActivity</span></tt> and implement the <tt class="docutils literal"><span class="pre">uploadDocument(..)</span></tt> method.
There is a static helper method <tt class="docutils literal"><span class="pre">ScannerActivity.setUploadActivityExtra</span></tt> in order to make setting the
activity more convenient.</dd>
<dt><tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_HELP_ACTIVITY</span></tt></dt>
<dd>Set an Activity used for showing help messages to the user. You can also subclass the <tt class="docutils literal"><span class="pre">net.gini.android.vision.help.HelpActivity</span></tt>,
if you want to customize the default help.
There is a static helper method <tt class="docutils literal"><span class="pre">ScannerActivity.setHelpActivityExtra</span></tt> in order to make setting the
activity more convenient.</dd>
<dt><tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_DOCTYPE_BUNDLE</span></tt></dt>
<dd>The desired document type must be selected by the user and must be provided as
<tt class="docutils literal"><span class="pre">net.gini.android.vision.DocumentType</span></tt> instance. Furthermore, the document type parameter must be wrapped in
a bundle using the key <tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_DOCTYPE</span></tt></dd>
</dl>
<p>You can also put optional extras in the intent. All expect a boolean value.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_SHOW_HELP</span></tt></dt>
<dd>Whether the <tt class="docutils literal"><span class="pre">ScannerActivity</span></tt> should show the <tt class="docutils literal"><span class="pre">HelpActivity</span></tt> the first time it is launched during an
application run.</dd>
<dt><tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_STORE_ORIGINAL</span></tt></dt>
<dd>Whether the ScannerActivity should store and return the original image. Please note that all images are
held in the device&#8217;s memory, not in the storage. Because of that, you should use this feature only for tests or
debugging since it increases memory usage significantly.</dd>
<dt><tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_SET_WINDOW_FLAG_SECURE</span></tt></dt>
<dd>Whether the ScannerActivity sets the secure flag on the window to prevent taking of screenshots. All activities started
by the ScannerActivity (HelpActivity and UploadActivity) will also set this flag so you don&#8217;t need to set
the flag in your UploadActivity subclass.</dd>
<dt><tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_CREATE_JPEG_DOCUMENT_WITH_METADATA</span></tt></dt>
<dd>Whether the ScannerAcitivity creates a jpeg with some exif tags from the rectified and cropped document. The jpeg
is already compressed to allow the best extraction with the smallest possible upload size. The exif tags contained
in the jpeg are listed at <a class="reference internal" href="#jpeg-exif-tags">Jpeg Exif Tags</a>.</dd>
</dl>
<div class="section" id="example">
<h5>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h5>
<p>The following example starts the ScannerActivity and the ScannerActivity will return both the original image and the
enhanced image. The <tt class="docutils literal"><span class="pre">MyUploadActivity</span></tt> and the optional <tt class="docutils literal"><span class="pre">MyHelpActivity</span></tt> are classes implemented by your app.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">final</span> <span class="n">Intent</span> <span class="n">scanIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">ScannerActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">scanIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_STORE_ORIGINAL</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
<span class="n">scanIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_STORE_RECTIFIED</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

<span class="kd">final</span> <span class="n">DocumentType</span> <span class="n">documentType</span> <span class="o">=</span>  <span class="c1">// user has selected the document type already</span>
<span class="kd">final</span> <span class="n">Bundle</span> <span class="n">docTypeBundle</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Bundle</span><span class="o">();</span>
<span class="n">docTypeBundle</span><span class="o">.</span><span class="na">putParcelable</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_DOCTYPE</span><span class="o">,</span> <span class="n">documentType</span><span class="o">);</span>
<span class="n">scanIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_DOCTYPE_BUNDLE</span><span class="o">,</span> <span class="n">docTypeBundle</span><span class="o">);</span>

<span class="n">ScannerActivity</span><span class="o">.</span><span class="na">setUploadActivityExtra</span><span class="o">(</span><span class="n">scanIntent</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="n">MyUploadActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="c1">// Optional: if you have a custom MyHelpActivity</span>
<span class="n">ScannerActivity</span><span class="o">.</span><span class="na">setHelpActivityExtra</span><span class="o">(</span><span class="n">scanIntent</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="n">MyHelpActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">startActivityForResult</span><span class="o">(</span><span class="n">scanIntent</span><span class="o">,</span> <span class="n">IMAGE_REQUEST</span><span class="o">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Always start the activity with the <tt class="docutils literal"><span class="pre">startActivityForResult()</span></tt> method and not with the
<tt class="docutils literal"><span class="pre">startActivity()</span></tt> method. Otherwise you won&#8217;t be able to obtain the captured documents.</p>
</div>
</div>
</div>
<div class="section" id="getting-the-results-of-the-scanner">
<h4>Getting the Results of the Scanner<a class="headerlink" href="#getting-the-results-of-the-scanner" title="Permalink to this headline">¶</a></h4>
<p>The ScannerActivity finishes automatically once the user has captured an image successfully.  Afterwards, the Android
system calls your activity&#8217;s
<a class="reference external" href="http://developer.android.com/reference/android/app/Activity.html#onActivityResult(int,int,android.content.Intent)">onActivityResult</a>
method. <cite>responseCode</cite> and the Intent <cite>data</cite> will be the values that your derived <tt class="docutils literal"><span class="pre">UploadActivity</span></tt> set.</p>
<p>If taking the picture was not successful due to some user interaction (e.g. the application user pressed the back
button), <cite>responseCode</cite> will be <tt class="docutils literal"><span class="pre">Activity.RESULT_CANCELED</span></tt>.</p>
<p>If some error happened during the picture taking, <cite>responseCode</cite> will be <tt class="docutils literal"><span class="pre">ScannerActivity.RESULT_ERROR</span></tt>. The result
intent has an extra <tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_ERROR</span></tt> that contains an error enumeration. See
<a class="reference internal" href="index.html#scanner-activity-results-example"><em>the example</em></a> for details on how to extract the error enumeration. The
following errors are possible:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">LOW_MEMORY</span></tt></dt>
<dd>There was not enough memory available to process the photo.</dd>
<dt><tt class="docutils literal"><span class="pre">NO_CAMERA</span></tt></dt>
<dd>The Gini Vision library was unable to connect to the camera service.</dd>
</dl>
<div class="section" id="bitmapfuture">
<h5><tt class="docutils literal"><span class="pre">BitmapFuture</span></tt><a class="headerlink" href="#bitmapfuture" title="Permalink to this headline">¶</a></h5>
<p>The ScannerActivity uses BitmapFuture (<tt class="docutils literal"><span class="pre">net.gini.android.vision.BitmapFuture</span></tt>) instances to pass bitmaps between
activities. The BitmapFuture implements the conventional
<a class="reference external" href="http://developer.android.com/reference/java/util/concurrent/Future.html">Future</a> interface. You can always use the
<tt class="docutils literal"><span class="pre">get()</span></tt> method on a BitmapFuture directly; it does return immediately and returns a
<a class="reference external" href="http://developer.android.com/reference/android/graphics/Bitmap.html">Bitmap</a>. Unfortunately, it is not possible to
pass the result images directly in the result intent since
<a class="reference external" href="http://developer.android.com/reference/android/os/TransactionTooLargeException.html">Android has some hard limitations on the size of transactions</a>.</p>
<p>There are two extras in the result intent which is given to the method; both are BitmapFuture instances:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_DOCUMENT</span></tt></dt>
<dd>A BitmapFuture that will get the rectified image of the document.</dd>
<dt><tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_ORIGINAL</span></tt></dt>
<dd>A BitmapFuture that will get the original image without any enhancements. Only available when the activity was
started with the <tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_STORE_ORIGINAL</span></tt> extra.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It is important that your application always extracts the
<cite>BitmapFuture</cite> instances out of the result intent. Otherwise,
memory leaks are possible.</p>
</div>
</div>
<div class="section" id="jpegfuture">
<h5><tt class="docutils literal"><span class="pre">JpegFuture</span></tt><a class="headerlink" href="#jpegfuture" title="Permalink to this headline">¶</a></h5>
<p>Like the <tt class="docutils literal"><span class="pre">BitmapFuture</span></tt>, but instead of a <tt class="docutils literal"><span class="pre">Bitmap</span></tt> it contains a jpeg byte array. If the <tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_CREATE_JPEG_DOCUMENT_WITH_METADATA</span></tt> is set to <tt class="docutils literal"><span class="pre">true</span></tt> the jpeg will be returned using this object.</p>
<p>The extra containing the <tt class="docutils literal"><span class="pre">JpegFuture</span></tt> in the result intent:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_DOCUMENT_JPEG</span></tt></dt>
<dd>A <tt class="docutils literal"><span class="pre">JpegFuture</span></tt> that will get the rectified jpeg image of the document. Will be set only if <tt class="docutils literal"><span class="pre">ScannerActivity.EXTRA_CREATE_JPEG_DOCUMENT_WITH_METADATA</span></tt> was <tt class="docutils literal"><span class="pre">true</span></tt>.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It is important that your application always extracts the
<cite>JpegFuture</cite> instances out of the result intent, if jpeg documents were enabled. Otherwise, memory leaks are possible.</p>
</div>
</div>
<div class="section" id="scanner-activity-results-example">
<span id="id1"></span><h5>Example<a class="headerlink" href="#scanner-activity-results-example" title="Permalink to this headline">¶</a></h5>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span> <span class="n">Intent</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Bundle</span> <span class="n">documentBundle</span><span class="o">;</span>
    <span class="n">BitmapFuture</span> <span class="n">originalFuture</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="n">BitmapFuture</span> <span class="n">rectifiedFuture</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="n">BitmapFuture</span> <span class="n">jpegFuture</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

    <span class="c1">// we always try to get the document to prevent memory leaks</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">IMAGE_REQUEST</span> <span class="o">&amp;&amp;</span> <span class="n">data</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">documentBundle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getBundleExtra</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_DOCUMENT_BUNDLE</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">documentBundle</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">originalFuture</span> <span class="o">=</span> <span class="n">documentBundle</span><span class="o">.</span><span class="na">getParcelable</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_ORIGINAL</span><span class="o">);</span>
            <span class="n">rectifiedFuture</span> <span class="o">=</span> <span class="n">documentBundle</span><span class="o">.</span><span class="na">getParcelable</span><span class="o">(</span><span class="n">CaptureActivity</span><span class="o">.</span><span class="na">EXTRA_DOCUMENT</span><span class="o">);</span>
            <span class="n">jpegFuture</span> <span class="o">=</span> <span class="n">documentBundle</span><span class="o">.</span><span class="na">getParcelable</span><span class="o">(</span><span class="n">CaptureActivity</span><span class="o">.</span><span class="na">EXTRA_DOCUMENT_JPEG</span><span class="o">);</span> <span class="c1">// use only if ScannerActivity.EXTRA_CREATE_JPEG_DOCUMENT_WITH_METADATA was true</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">IMAGE_REQUEST</span> <span class="o">&amp;&amp;</span> <span class="n">resultCode</span> <span class="o">==</span> <span class="n">RESULT_OK</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// everything ok, do something with the document</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">IMAGE_REQUEST</span> <span class="o">&amp;&amp;</span> <span class="n">resultCode</span> <span class="o">==</span> <span class="n">ScannerActivity</span><span class="o">.</span><span class="na">RESULT_ERROR</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">ScannerActivity</span><span class="o">.</span><span class="na">Error</span> <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getParcelableExtra</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_ERROR</span><span class="o">);</span>
        <span class="c1">// unfortunately there was an error we must handle</span>
    <span class="o">}</span>
 <span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="jpeg-exif-tags">
<h5>Jpeg Exif Tags<a class="headerlink" href="#jpeg-exif-tags" title="Permalink to this headline">¶</a></h5>
<p>In order to improve our service we would like to receive a few exif tags about the circumstances in which the document was photographed.</p>
<p>Only the following exif tags are kept in the jpeg file. No personal, geographical or otherwise sensitive information is kept.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">Make</span></tt></dt>
<dd>The manufacturer of the device.</dd>
<dt><tt class="docutils literal"><span class="pre">Model</span></tt></dt>
<dd>The model name or model number of the device.</dd>
<dt><tt class="docutils literal"><span class="pre">ISO</span></tt></dt>
<dd>The ISO Speed and ISO Latitude of the camera as specified in ISO 12232.</dd>
<dt><tt class="docutils literal"><span class="pre">Exposure</span> <span class="pre">Time</span></tt></dt>
<dd>Exposure time, given in seconds.</dd>
<dt><tt class="docutils literal"><span class="pre">Aperture</span></tt></dt>
<dd>The lens aperture. The unit is the APEX value.</dd>
<dt><tt class="docutils literal"><span class="pre">Flash</span></tt></dt>
<dd>Status of flash when the image was shot.</dd>
<dt><tt class="docutils literal"><span class="pre">Compressed</span> <span class="pre">Bits</span> <span class="pre">Per</span> <span class="pre">Pixel</span></tt></dt>
<dd>The compression mode used for a compressed image is indicated in unit bits per pixel.</dd>
<dt><tt class="docutils literal"><span class="pre">Orientation</span></tt></dt>
<dd>The image orientation derived from the device orientation.</dd>
<dt><tt class="docutils literal"><span class="pre">Platform</span></tt></dt>
<dd>Android.</dd>
<dt><tt class="docutils literal"><span class="pre">OS</span> <span class="pre">Version</span></tt></dt>
<dd>Android OS version.</dd>
<dt><tt class="docutils literal"><span class="pre">GiniVision</span> <span class="pre">Version</span></tt></dt>
<dd>GiniVision SDK version.</dd>
</dl>
</div>
</div>
<div class="section" id="upload-the-document-to-gini-using-the-gini-api-sdk">
<h4>Upload the Document to Gini using the Gini API SDK<a class="headerlink" href="#upload-the-document-to-gini-using-the-gini-api-sdk" title="Permalink to this headline">¶</a></h4>
<p>First of all, we have to include the Gini API SDK as dependency in the <tt class="docutils literal"><span class="pre">build.gradle</span></tt>. Check out the Gini SDK Android
documentation&#8217;s <a class="reference external" href="http://developer.gini.net/gini-sdk-android/guides/getting-started.html">Getting Started</a> section for details.</p>
<p>The Gini SDK provides a <tt class="docutils literal"><span class="pre">Gini</span></tt> class which acts as a facade to the whole functionality of the Gini API. Your app must
create a single instance of this class and hold it for its complete lifecycle.</p>
<p>Finally, the <tt class="docutils literal"><span class="pre">Gini</span></tt> instance is used in the <tt class="docutils literal"><span class="pre">uploadDocument(Bitmap,</span> <span class="pre">byte[])</span></tt> method of the <tt class="docutils literal"><span class="pre">MyUploadActivity</span></tt> which extends
<tt class="docutils literal"><span class="pre">net.gini.android.vision.UploadActivity</span></tt> to upload the captured document. The example below shows a possible
implementation which puts the result extractions into a new intent for further processing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The abstract method <tt class="docutils literal"><span class="pre">uploadDocument(Bitmap)</span></tt> in <tt class="docutils literal"><span class="pre">net.gini.android.vision.UploadActivity</span></tt> was deprecated. You should move
the method body to the new <tt class="docutils literal"><span class="pre">uploadDocument(Bitmap,</span> <span class="pre">byte[])</span></tt> method and leave the old one empty.</p>
</div>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">uploadDocument</span><span class="o">(</span><span class="kd">final</span> <span class="n">Bitmap</span> <span class="n">document</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">jpeg</span><span class="o">)</span> <span class="o">{</span>
   <span class="c1">// Get the doctype, if available</span>
   <span class="n">DocumentType</span> <span class="n">documentType</span> <span class="o">=</span> <span class="n">DocumentType</span><span class="o">.</span><span class="na">INVOICE</span><span class="o">;</span>
   <span class="kd">final</span> <span class="n">Bundle</span> <span class="n">documentTypeBundle</span> <span class="o">=</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getBundleExtra</span><span class="o">(</span><span class="n">UploadActivity</span><span class="o">.</span><span class="na">EXTRA_DOCTYPE_BUNDLE</span><span class="o">);</span>
   <span class="k">if</span> <span class="o">(</span><span class="n">documentTypeBundle</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">DocumentType</span> <span class="n">docType</span> <span class="o">=</span> <span class="n">documentTypeBundle</span><span class="o">.</span><span class="na">getParcelable</span><span class="o">(</span><span class="n">UploadActivity</span><span class="o">.</span><span class="na">EXTRA_DOCTYPE</span><span class="o">);</span>
       <span class="k">if</span> <span class="o">(</span><span class="n">docType</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="n">documentType</span> <span class="o">=</span> <span class="n">docType</span><span class="o">;</span>
   <span class="o">}</span>

   <span class="n">DocumentTaskManager</span><span class="o">.</span><span class="na">DocumentType</span> <span class="n">docType</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
   <span class="k">switch</span> <span class="o">(</span><span class="n">documentType</span><span class="o">)</span> <span class="o">{</span>
       <span class="k">case</span> <span class="n">INVOICE</span><span class="o">:</span>
           <span class="n">docType</span> <span class="o">=</span> <span class="n">DocumentTaskManager</span><span class="o">.</span><span class="na">DocumentType</span><span class="o">.</span><span class="na">INVOICE</span><span class="o">;</span>
           <span class="k">break</span><span class="o">;</span>
       <span class="k">case</span> <span class="n">REMITTANCE_SLIP</span><span class="o">:</span>
           <span class="n">docType</span> <span class="o">=</span> <span class="n">DocumentTaskManager</span><span class="o">.</span><span class="na">DocumentType</span><span class="o">.</span><span class="na">REMITTANCE_SLIP</span><span class="o">;</span>
           <span class="k">break</span><span class="o">;</span>
       <span class="k">case</span> <span class="n">INTEGRATED_REMITTANCE_SLIP</span><span class="o">:</span>
           <span class="n">docType</span> <span class="o">=</span> <span class="n">DocumentTaskManager</span><span class="o">.</span><span class="na">DocumentType</span><span class="o">.</span><span class="na">REMITTANCE_SLIP</span><span class="o">;</span>
           <span class="k">break</span><span class="o">;</span>
   <span class="o">}</span>

   <span class="c1">// Upload the jpeg, if available, otherwise try to upload the Bitmap</span>
   <span class="n">Task</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;</span> <span class="n">createDocumentTask</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
   <span class="k">if</span> <span class="o">(</span><span class="n">jpeg</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">createDocumentTask</span> <span class="o">=</span> <span class="n">documentTaskManager</span><span class="o">.</span><span class="na">createDocument</span><span class="o">(</span><span class="n">jpeg</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">docType</span><span class="o">);</span>
   <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">document</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">createDocumentTask</span> <span class="o">=</span> <span class="n">documentTaskManager</span><span class="o">.</span><span class="na">createDocument</span><span class="o">(</span><span class="n">document</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">docType</span><span class="o">);</span>
   <span class="o">}</span>

   <span class="k">if</span> <span class="o">(</span><span class="n">createDocumentTask</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
       <span class="kd">final</span> <span class="n">Intent</span> <span class="n">resultIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>
       <span class="n">resultIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">EXTRA_ERROR_STRING</span><span class="o">,</span> <span class="s">&quot;No bitmap or jpeg to upload.&quot;</span><span class="o">);</span>
       <span class="n">setResult</span><span class="o">(</span><span class="n">RESULT_UPLOAD_ERROR</span><span class="o">,</span> <span class="n">resultIntent</span><span class="o">);</span>
       <span class="n">finish</span><span class="o">();</span>
   <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
       <span class="n">createDocumentTask</span>
           <span class="o">.</span><span class="na">onSuccessTask</span><span class="o">(</span><span class="k">new</span> <span class="n">Continuation</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">,</span> <span class="n">Task</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;&gt;()</span> <span class="o">{</span>
               <span class="nd">@Override</span>
               <span class="kd">public</span> <span class="n">Task</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;</span> <span class="nf">then</span><span class="o">(</span><span class="n">Task</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;</span> <span class="n">task</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
                   <span class="kd">final</span> <span class="n">Document</span> <span class="n">document</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="na">getResult</span><span class="o">();</span>
                   <span class="n">documentId</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
                   <span class="k">return</span> <span class="n">documentTaskManager</span><span class="o">.</span><span class="na">pollDocument</span><span class="o">(</span><span class="n">document</span><span class="o">);</span>
               <span class="o">}</span>
           <span class="o">})</span>
           <span class="o">.</span><span class="na">onSuccessTask</span><span class="o">(</span><span class="k">new</span> <span class="n">Continuation</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">,</span> <span class="n">Task</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">SpecificExtraction</span><span class="o">&gt;&gt;&gt;()</span> <span class="o">{</span>
               <span class="nd">@Override</span>
               <span class="kd">public</span> <span class="n">Task</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">SpecificExtraction</span><span class="o">&gt;&gt;</span> <span class="nf">then</span><span class="o">(</span><span class="n">Task</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;</span> <span class="n">task</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
                   <span class="k">return</span> <span class="n">documentTaskManager</span><span class="o">.</span><span class="na">getExtractions</span><span class="o">(</span><span class="n">task</span><span class="o">.</span><span class="na">getResult</span><span class="o">());</span>
               <span class="o">}</span>
           <span class="o">})</span>
           <span class="o">.</span><span class="na">onSuccess</span><span class="o">(</span><span class="k">new</span> <span class="n">Continuation</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">SpecificExtraction</span><span class="o">&gt;,</span> <span class="n">Object</span><span class="o">&gt;()</span> <span class="o">{</span>
               <span class="nd">@Override</span>
               <span class="kd">public</span> <span class="n">Object</span> <span class="nf">then</span><span class="o">(</span><span class="n">Task</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">SpecificExtraction</span><span class="o">&gt;&gt;</span> <span class="n">task</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
                   <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">SpecificExtraction</span><span class="o">&gt;</span> <span class="n">extractions</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="na">getResult</span><span class="o">();</span>
                   <span class="kd">final</span> <span class="n">Bundle</span> <span class="n">extractionsBundle</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Bundle</span><span class="o">();</span>
                   <span class="k">for</span> <span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">SpecificExtraction</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">:</span> <span class="n">extractions</span><span class="o">.</span><span class="na">entrySet</span><span class="o">())</span> <span class="o">{</span>
                       <span class="n">extractionsBundle</span><span class="o">.</span><span class="na">putParcelable</span><span class="o">(</span><span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">(),</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
                   <span class="o">}</span>
                   <span class="kd">final</span> <span class="n">Intent</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>
                   <span class="n">result</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">EXTRA_DOCUMENT_ID</span><span class="o">,</span> <span class="n">documentId</span><span class="o">);</span>
                   <span class="n">result</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">EXTRA_EXTRACTIONS</span><span class="o">,</span> <span class="n">extractionsBundle</span><span class="o">);</span>
                   <span class="n">setResult</span><span class="o">(</span><span class="n">RESULT_OK</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>
                   <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
               <span class="o">}</span>
           <span class="o">})</span>
           <span class="o">.</span><span class="na">continueWith</span><span class="o">(</span><span class="k">new</span> <span class="n">Continuation</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;()</span> <span class="o">{</span>
               <span class="nd">@Override</span>
               <span class="kd">public</span> <span class="n">Object</span> <span class="nf">then</span><span class="o">(</span><span class="n">Task</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">task</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
                   <span class="k">if</span> <span class="o">(</span><span class="n">task</span><span class="o">.</span><span class="na">isFaulted</span><span class="o">())</span> <span class="o">{</span>
                       <span class="c1">//noinspection ThrowableResultOfMethodCallIgnored</span>
                       <span class="kd">final</span> <span class="n">Exception</span> <span class="n">exception</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="na">getError</span><span class="o">();</span>
                       <span class="c1">// We could inspect the exception here -- should always be a subclass of a</span>
                       <span class="c1">// com.android.volley.VolleyError. For example:</span>
                       <span class="c1">// * AuthFailureError: Client credentials or access token was wrong</span>
                       <span class="c1">// * ConnectError, TimeoutError: can be caused by a flaky connection</span>
                       <span class="c1">// * NoConnectionError: (Likely) no Internet connection available</span>
                       <span class="n">LOG</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">&quot;Upload failed:&quot;</span><span class="o">,</span> <span class="n">exception</span><span class="o">);</span>
                       <span class="c1">// Signal to parent activity that the uploading failed</span>
                       <span class="kd">final</span> <span class="n">Intent</span> <span class="n">resultIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>
                       <span class="n">resultIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">EXTRA_ERROR_STRING</span><span class="o">,</span> <span class="n">exception</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
                       <span class="n">setResult</span><span class="o">(</span><span class="n">RESULT_UPLOAD_ERROR</span><span class="o">,</span> <span class="n">resultIntent</span><span class="o">);</span>
                   <span class="o">}</span>
                   <span class="n">LOG</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">&quot;done&quot;</span><span class="o">);</span>
                   <span class="n">runOnUiThread</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
                       <span class="nd">@Override</span>
                       <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                           <span class="n">finish</span><span class="o">();</span>
                       <span class="o">}</span>
                   <span class="o">});</span>
                   <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
               <span class="o">}</span>
           <span class="o">});</span>
   <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://github.com/gini/gini-sdk-android/wiki/Integration-Guide">The Gini SDK integration guide for Android.</a></p>
</div>
</div>
<div class="section" id="full-example">
<h4>Full Example<a class="headerlink" href="#full-example" title="Permalink to this headline">¶</a></h4>
<p>Below is a full example of an activity which displays a button. When the user clicks on the button, the activity starts
the document scanner. Once the user has successfully scanned a document, the ScannerActivity returns and the example
activity can use the rectified bitmap of the document.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">package</span> <span class="nn">net.gini.android.visiontest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">net.gini.android.vision.BitmapFuture</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">net.gini.android.vision.ScannerActivity</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{</span>

    <span class="kd">protected</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">IMAGE_REQUEST</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_example</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span> <span class="n">Intent</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Bundle</span> <span class="n">documentBundle</span><span class="o">;</span>
        <span class="n">BitmapFuture</span> <span class="n">originalFuture</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">BitmapFuture</span> <span class="n">rectifiedFuture</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">BitmapFuture</span> <span class="n">jpegFuture</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="c1">// we always try to get the document to prevent memory leaks</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">IMAGE_REQUEST</span> <span class="o">&amp;&amp;</span> <span class="n">data</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">documentBundle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getBundleExtra</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_DOCUMENT_BUNDLE</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">documentBundle</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">originalFuture</span> <span class="o">=</span> <span class="n">documentBundle</span><span class="o">.</span><span class="na">getParcelable</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_ORIGINAL</span><span class="o">);</span>
                <span class="n">rectifiedFuture</span> <span class="o">=</span> <span class="n">documentBundle</span><span class="o">.</span><span class="na">getParcelable</span><span class="o">(</span><span class="n">CaptureActivity</span><span class="o">.</span><span class="na">EXTRA_DOCUMENT</span><span class="o">);</span>
                <span class="n">jpegFuture</span> <span class="o">=</span> <span class="n">documentBundle</span><span class="o">.</span><span class="na">getParcelable</span><span class="o">(</span><span class="n">CaptureActivity</span><span class="o">.</span><span class="na">EXTRA_DOCUMENT_JPEG</span><span class="o">);</span> <span class="c1">// use only if ScannerActivity.EXTRA_CREATE_JPEG_DOCUMENT_WITH_METADATA was true</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">IMAGE_REQUEST</span> <span class="o">&amp;&amp;</span> <span class="n">resultCode</span> <span class="o">==</span> <span class="n">RESULT_OK</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// everything ok, do something with the document</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">IMAGE_REQUEST</span> <span class="o">&amp;&amp;</span> <span class="n">resultCode</span> <span class="o">==</span> <span class="n">ScannerActivity</span><span class="o">.</span><span class="na">RESULT_ERROR</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="n">ScannerActivity</span><span class="o">.</span><span class="na">Error</span> <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getParcelableExtra</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_ERROR</span><span class="o">);</span>
            <span class="c1">// unfortunately there was an error we must handle</span>
        <span class="o">}</span>
    <span class="o">}</span>


    <span class="cm">/**</span>
<span class="cm">     * Callback which is called when the user clicked on a button. Starts the document scanner.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Intent</span> <span class="n">scanIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">ScannerActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">scanIntent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">ScannerActivity</span><span class="o">.</span><span class="na">EXTRA_STORE_RECTIFIED</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
            <span class="c1">// MyUploadActivity is your Activity that implements the upload or processing logic.</span>
            <span class="c1">// It needs to be derived from Gini Vision library&#39;s UploadActivity.</span>
        <span class="n">ScannerActivity</span><span class="o">.</span><span class="na">setUploadActivityExtra</span><span class="o">(</span><span class="n">scanIntent</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="n">MyUploadActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="c1">// Optional: if you have a custom MyHelpActivity</span>
        <span class="n">ScannerActivity</span><span class="o">.</span><span class="na">setUploadActivityExtra</span><span class="o">(</span><span class="n">scanIntent</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="n">MyHelpActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">startActivityForResult</span><span class="o">(</span><span class="n">scanIntent</span><span class="o">,</span> <span class="n">IMAGE_REQUEST</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The Android documentation on <a class="reference external" href="http://developer.android.com/training/basics/intents/result.html">Getting a result from an activity</a>.</p>
</div>
</div>
</div>
<span id="document-guides/styling"></span><div class="section" id="styling-the-image-capturing-screens">
<h3>Styling the Image Capturing Screens<a class="headerlink" href="#styling-the-image-capturing-screens" title="Permalink to this headline">¶</a></h3>
<p>The Gini Android Vision library is built with the option to adopt the styling appropriate to the requirements of your
CI. Therefore the UI ressources used by the Gini Android Vision library can be replaced or customized.</p>
<div class="section" id="screen-resources">
<h4>Screen Resources<a class="headerlink" href="#screen-resources" title="Permalink to this headline">¶</a></h4>
<p>You can replace the images used by the SDK simply by adding images with the same name to the drawables folder (and
resolution dependent subfolders) of your app. The text to be displayed can be replaced by adding string resources with
the same keys in the <tt class="docutils literal"><span class="pre">values/strings.xml</span></tt> file of your app. The following screen images will show which image and
which text ressources are used on which screen. The color scheme is as follows: <tt class="docutils literal"><span class="pre">red</span></tt>- images, <tt class="docutils literal"><span class="pre">yellow</span></tt>- animations
<tt class="docutils literal"><span class="pre">blue</span></tt>- texts.</p>
<div class="section" id="camera-screen">
<h5>Camera Screen<a class="headerlink" href="#camera-screen" title="Permalink to this headline">¶</a></h5>
<img alt="_images/android_camera-screen.png" src="_images/android_camera-screen.png" />
<img alt="_images/android_camera-screen_remittance.png" src="_images/android_camera-screen_remittance.png" />
<img alt="_images/android_camera-screen_closer-message.png" src="_images/android_camera-screen_closer-message.png" />
<img alt="_images/android_camera-screen_perspective-message.png" src="_images/android_camera-screen_perspective-message.png" />
<img alt="_images/android_camera-screen_still-message.png" src="_images/android_camera-screen_still-message.png" />
</div>
<div class="section" id="help-screen-1">
<h5>Help Screen #1<a class="headerlink" href="#help-screen-1" title="Permalink to this headline">¶</a></h5>
<img alt="_images/android_help-screen_1.png" src="_images/android_help-screen_1.png" />
</div>
<div class="section" id="help-screen-2">
<h5>Help Screen #2<a class="headerlink" href="#help-screen-2" title="Permalink to this headline">¶</a></h5>
<img alt="_images/android_help-screen_2.png" src="_images/android_help-screen_2.png" />
</div>
<div class="section" id="help-screen-3">
<h5>Help Screen #3<a class="headerlink" href="#help-screen-3" title="Permalink to this headline">¶</a></h5>
<img alt="_images/android_help-screen_3.png" src="_images/android_help-screen_3.png" />
</div>
<div class="section" id="help-screen-4">
<h5>Help Screen #4<a class="headerlink" href="#help-screen-4" title="Permalink to this headline">¶</a></h5>
<img alt="_images/android_help-screen_4.png" src="_images/android_help-screen_4.png" />
</div>
<div class="section" id="processing-screen">
<h5>Processing Screen<a class="headerlink" href="#processing-screen" title="Permalink to this headline">¶</a></h5>
<p>The processing screen contains an animation which is defined in <tt class="docutils literal"><span class="pre">drawables/processing_screen_1.xml</span></tt>.</p>
<img alt="_images/android_processing-screen.png" src="_images/android_processing-screen.png" />
</div>
<div class="section" id="list-of-all-image-files">
<h5>List of all image files<a class="headerlink" href="#list-of-all-image-files" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>corners.png</li>
<li>help_screen_1.png</li>
<li>help_screen_2_falsch.png</li>
<li>help_screen_2_richtig.png</li>
<li>help_screen_3_falsch.png</li>
<li>help_screen_3_richtig.png</li>
<li>help_screen_4_falsch.png</li>
<li>help_screen_4_richtig.png</li>
<li>icon_action_help.png</li>
<li>message_closer.png</li>
<li>message_perspective.png</li>
<li>message_still.png</li>
<li>processing_screen_11.png</li>
<li>remittance_corners.png</li>
</ul>
</div>
<div class="section" id="list-of-all-animations">
<h5>List of all animations<a class="headerlink" href="#list-of-all-animations" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>processing_screen_1.xml</li>
</ul>
</div>
<div class="section" id="list-of-all-text-ressources">
<h5>List of all text ressources<a class="headerlink" href="#list-of-all-text-ressources" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>title_activity_scanner</li>
<li>title_activity_scanner_invoice</li>
<li>title_activity_scanner_remittance</li>
<li>title_activity_scanner_integrated_remittance</li>
<li>action_settings</li>
<li>net.gini.android.vision.title_activity_choice</li>
<li>action_help</li>
<li>title_activity_help</li>
<li>action_back</li>
<li>action_forward</li>
<li>action_help_close</li>
<li>help_fragment_title</li>
<li>help_fragment_1_text</li>
<li>help_fragment_2_text</li>
<li>help_fragment_3_text</li>
<li>help_fragment_4_text</li>
</ul>
</div>
</div>
<div class="section" id="customizable-colors">
<h4>Customizable colors<a class="headerlink" href="#customizable-colors" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.actionBar.background</span></tt></dt>
<dd>The background color of the action bar when the <tt class="docutils literal"><span class="pre">ScannerActivity</span></tt> is displayed.</dd>
<dt><tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.actionBar.color</span></tt></dt>
<dd>The color of the text on the the action bar when the <tt class="docutils literal"><span class="pre">ScannerActivity</span></tt> is displayed.</dd>
<dt><tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.statusBar</span></tt></dt>
<dd><p class="first">The color of the status bar when the <tt class="docutils literal"><span class="pre">ScannerActivity</span></tt> is displayed.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please note that this option is ignored in Android versions lower than 5.0 (<cite>Lollipop</cite>).</p>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.outlineColor</span></tt></dt>
<dd>The color of the document outline shown in the <tt class="docutils literal"><span class="pre">ScannerActivity</span></tt>&#8216;s viewfinder.</dd>
<dt><tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.backgroundColor</span></tt></dt>
<dd>The background color for the root views of all activities except the <tt class="docutils literal"><span class="pre">Help</span> <span class="pre">Activity</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.helpBackgroundColor</span></tt></dt>
<dd>The background color for the <tt class="docutils literal"><span class="pre">HelpActivity</span></tt>&#8216;s root view.</dd>
<dt><tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.colorAccent</span></tt></dt>
<dd>The accent color for UI widgets on Android 5.0 and newer or when using the compatibility build <cite>ginivision-android-sdk-compat</cite>.
If you use the activity indicator in the <tt class="docutils literal"><span class="pre">UploadActivity</span></tt> (see <a class="reference internal" href="#activity-indicator-during-upload">Activity indicator during upload</a>), it sets the color of the indicator on Android 5.0 or newer.</dd>
</dl>
<p>Listed below is an example file which would go into the application&#8217;s <cite>res/styles/style.xml`</cite> file.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;resources&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.actionBar.background&quot;</span><span class="nt">&gt;</span>#009edc<span class="nt">&lt;/color&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.actionBar.color&quot;</span><span class="nt">&gt;</span>#ffffff<span class="nt">&lt;/color&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.statusBar&quot;</span><span class="nt">&gt;</span>#007eb0<span class="nt">&lt;/color&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.outlineColor&quot;</span><span class="nt">&gt;</span>#1ae2ae<span class="nt">&lt;/color&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.backgroundColor&quot;</span><span class="nt">&gt;</span>#ffffff<span class="nt">&lt;/color&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.helpBackgroundColor&quot;</span><span class="nt">&gt;</span>#ffffff<span class="nt">&lt;/color&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.colorAccent&quot;</span><span class="nt">&gt;</span>#009edc<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="customizable-fonts">
<h4>Customizable fonts<a class="headerlink" href="#customizable-fonts" title="Permalink to this headline">¶</a></h4>
<p>You can change the fonts used in several places. System and custom fonts are supported. To use a custom font place the font file in the <cite>assets/fonts</cite>
directory of your project.</p>
<p>The following <tt class="docutils literal"><span class="pre">&lt;string&gt;</span></tt> resources set the fonts:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.helpTextFont</span></tt></dt>
<dd>Sets the font used for the help texts. The system font name as used in <tt class="docutils literal"><span class="pre">android:fontFamily</span></tt> attributes or the custom font file name including extension.</dd>
<dt><tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.captureHeadingFont</span></tt></dt>
<dd>Sets the font used for the heading in the CaptureActivity. The system font name as used in <tt class="docutils literal"><span class="pre">android:fontFamily</span></tt> attributes or the custom font file name including extension.</dd>
<dt><tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.actionBarFont</span></tt></dt>
<dd>Sets the font used in the ActionBars. The system font name as used in <tt class="docutils literal"><span class="pre">android:fontFamily</span></tt> attributes or the custom font file name including extension.</dd>
</dl>
<p>This can be put into the same <tt class="docutils literal"><span class="pre">res/styles/style.xml</span></tt> file used for customizing the colors.</p>
<p>Below is an example with a system font:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.helpTextFont&quot;</span><span class="nt">&gt;</span>sans-serif-light<span class="nt">&lt;/string&gt;</span>
</pre></div>
</div>
<p>The following example shows how to use a custom font, called <tt class="docutils literal"><span class="pre">Cave-Story.ttf</span></tt> which was placed into the <tt class="docutils literal"><span class="pre">assets/fonts</span></tt> directory:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.helpTextFont&quot;</span><span class="nt">&gt;</span>Cave-Story.ttf<span class="nt">&lt;/string&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="customizable-actionbar-menus">
<h4>Customizable ActionBar Menus<a class="headerlink" href="#customizable-actionbar-menus" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">res/menu/menu_scanner.xml</span></tt></dt>
<dd>Contains the ActionBar menu items for the <tt class="docutils literal"><span class="pre">ScannerActivity</span></tt>. You can override it to remove the help button. Subclassing the <tt class="docutils literal"><span class="pre">ScannerActivity</span></tt>
is not possible and you should not add new menu items, because you can&#8217;t add selection handlers.</dd>
<dt><tt class="docutils literal"><span class="pre">res/menu/menu_help.xml</span></tt></dt>
<dd>Contains the ActionBar menu items for the <tt class="docutils literal"><span class="pre">HelpActivity</span></tt>. You can override it to remove the close button or, if you subclass the <tt class="docutils literal"><span class="pre">HelpActivity</span></tt>, add
new items and selection handlers in your subclass.</dd>
</dl>
</div>
<div class="section" id="actionbar-back-button">
<h4>ActionBar back button<a class="headerlink" href="#actionbar-back-button" title="Permalink to this headline">¶</a></h4>
<p>The ActionBar Home button can be set to act as a back button (similar to iOS). To enable it set the  <tt class="docutils literal"><span class="pre">net.gini.android.vision.home_as_back_button</span></tt> boolean resource to <tt class="docutils literal"><span class="pre">true</span></tt> and create a drawable named <tt class="docutils literal"><span class="pre">back_button</span></tt> (image or XML).</p>
<p>In addition, if you use the standard version, you must set the <tt class="docutils literal"><span class="pre">back_button</span></tt> drawable in your <tt class="docutils literal"><span class="pre">styles.xml</span></tt> as the <tt class="docutils literal"><span class="pre">homeAsUpIndicator</span></tt>.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">&quot;net.example.theme&quot;</span> <span class="na">parent=</span><span class="s">&quot;@android:style/Theme.Holo.Light&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:homeAsUpIndicator&quot;</span><span class="nt">&gt;</span>@drawable/back_button<span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/style&gt;</span>
</pre></div>
</div>
<p>It is also advisable to remove the home icon from the ActionBar by setting the <tt class="docutils literal"><span class="pre">displayOptions</span></tt> for the ActionBar&#8217;s style to <tt class="docutils literal"><span class="pre">disableHome</span></tt>.</p>
<p>An example style configuring the <tt class="docutils literal"><span class="pre">homeAsUpIndicator</span></tt> and the <tt class="docutils literal"><span class="pre">displayOptions</span></tt>:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">&quot;net.example.theme&quot;</span> <span class="na">parent=</span><span class="s">&quot;@android:style/Theme.Holo.Light&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:actionBarStyle&quot;</span><span class="nt">&gt;</span>@style/net.example.theme.ActionBar<span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:homeAsUpIndicator&quot;</span><span class="nt">&gt;</span>@drawable/back_button<span class="nt">&lt;/item&gt;</span> <span class="c">&lt;!-- Not needed for compat --&gt;</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">&quot;net.example.theme.ActionBar&quot;</span> <span class="na">parent=</span><span class="s">&quot;@android:style/Widget.Holo.Light.ActionBar&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:displayOptions&quot;</span><span class="nt">&gt;</span>disableHome<span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/style&gt;</span>
</pre></div>
</div>
<p>Enable the back button:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;bool</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.home_as_back_button&quot;</span><span class="nt">&gt;</span>true<span class="nt">&lt;/bool&gt;</span>
</pre></div>
</div>
<p>Example <tt class="docutils literal"><span class="pre">back_button.xml</span></tt> drawable which displays a png called <tt class="docutils literal"><span class="pre">back_icon</span></tt> moved 20dp to the left:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;layer-list</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:left=</span><span class="s">&quot;-20dp&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;bitmap</span> <span class="na">android:src=</span><span class="s">&quot;@drawable/back_icon&quot;</span>
                <span class="na">android:gravity=</span><span class="s">&quot;center&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/layer-list&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="centering-the-actionbar-title">
<h4>Centering the ActionBar title<a class="headerlink" href="#centering-the-actionbar-title" title="Permalink to this headline">¶</a></h4>
<p>By setting the <tt class="docutils literal"><span class="pre">net.gini.android.vision.center_activity_title</span></tt> boolean resource to <tt class="docutils literal"><span class="pre">true</span></tt> the titles in the ActionBars will be centered. A custom view is used to accomplish this with a layout named <tt class="docutils literal"><span class="pre">action_bar_center_title.xml</span></tt>. You can create your own layout if you need to fine tune the positioning of the title. The only requirement is that it contains a <tt class="docutils literal"><span class="pre">TextView</span></tt> with the id <tt class="docutils literal"><span class="pre">title_centered</span></tt>.</p>
<p>Enable the title centering:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;bool</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.center_activity_title&quot;</span><span class="nt">&gt;</span>true<span class="nt">&lt;/bool&gt;</span>
</pre></div>
</div>
<p>Custom <tt class="docutils literal"><span class="pre">action_bar_center_title.xml</span></tt> layout that moves the title 24dp to the left:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;RelativeLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
              <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
              <span class="na">android:layout_height=</span><span class="s">&quot;match_parent&quot;</span>
              <span class="na">android:orientation=</span><span class="s">&quot;vertical&quot;</span>
              <span class="na">android:clipChildren=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;TextView</span>
        <span class="na">android:paddingLeft=</span><span class="s">&quot;-24dp&quot;</span>
        <span class="na">android:id=</span><span class="s">&quot;@+id/title_centered&quot;</span>
        <span class="na">android:layout_width=</span><span class="s">&quot;wrap_content&quot;</span>
        <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
        <span class="na">android:layout_centerInParent=</span><span class="s">&quot;true&quot;</span>
        <span class="na">android:textColor=</span><span class="s">&quot;@color/net.gini.android.vision.theme.actionBar.color&quot;</span><span class="nt">/&gt;</span> <span class="c">&lt;!-- Using the color from the theme --&gt;</span>
<span class="nt">&lt;/RelativeLayout&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="dot-page-indicator-in-the-help">
<h4>Dot page indicator in the help<a class="headerlink" href="#dot-page-indicator-in-the-help" title="Permalink to this headline">¶</a></h4>
<p>By setting the <tt class="docutils literal"><span class="pre">net.gini.android.vision.help_dot_page_indicator</span></tt> boolean resource to <tt class="docutils literal"><span class="pre">true</span></tt> the dot page indicator can be enabled which replaces the text page indicators.</p>
<p>You can configure the bottom margin, the padding between the dots and the width/height of the dots with the following dimension resources:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.help_page_indicators_bottom_margin&quot;</span><span class="nt">&gt;</span>15dp<span class="nt">&lt;/dimen&gt;</span>
<span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.help_page_indicator_padding&quot;</span><span class="nt">&gt;</span>8dp<span class="nt">&lt;/dimen&gt;</span>
<span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.help_page_indicator_width&quot;</span><span class="nt">&gt;</span>6dp<span class="nt">&lt;/dimen&gt;</span>
<span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.help_page_indicator_height&quot;</span><span class="nt">&gt;</span>6dp<span class="nt">&lt;/dimen&gt;</span>
</pre></div>
</div>
<p>The default and active dot colors can be configured with the following color resources:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.help_page_indicator_color_default&quot;</span><span class="nt">&gt;</span>#999999<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.theme.help_page_indicator_color_active&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/color&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="activity-indicator-during-upload">
<h4>Activity indicator during upload<a class="headerlink" href="#activity-indicator-during-upload" title="Permalink to this headline">¶</a></h4>
<p>By setting the <tt class="docutils literal"><span class="pre">net.gini.android.vision.upload_activity_indicator</span></tt> boolean resource to <tt class="docutils literal"><span class="pre">true</span></tt> the animation is
disabled and replaced with a native indeterminate <tt class="docutils literal"><span class="pre">ProgressBar</span></tt> in the <tt class="docutils literal"><span class="pre">UploadActivity</span></tt>.</p>
<p>The color of the <tt class="docutils literal"><span class="pre">ProgressBar</span></tt> on Android 5.0 or newer is set by the <tt class="docutils literal"><span class="pre">net.gini.android.vision.theme.colorAccent</span></tt> color resource.</p>
</div>
<div class="section" id="custom-animation-during-upload">
<h4>Custom Animation during upload<a class="headerlink" href="#custom-animation-during-upload" title="Permalink to this headline">¶</a></h4>
<p>The <tt class="docutils literal"><span class="pre">UploadActivity</span></tt> class has two methods for starting and stopping a custom animation: <tt class="docutils literal"><span class="pre">startScanAnimation()</span></tt> and a <tt class="docutils literal"><span class="pre">stopScanAnimation()</span></tt>. You can override these methods to start and stop your own animation.</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Don&#8217;t call <tt class="docutils literal"><span class="pre">super.startScanAnimation()</span></tt> or <tt class="docutils literal"><span class="pre">super.stopScanAnimation</span></tt> to prevent the use of the default animation.</p>
</div>
</div></blockquote>
<p>In order to override the layout for the <tt class="docutils literal"><span class="pre">UploadActivity</span></tt> and add the views for your animation you can copy the <tt class="docutils literal"><span class="pre">res/layout/upload_activity.xml</span></tt> from the library and modify it (but don&#8217;t rename it).</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Don&#8217;t delete the ImageView with the id &#8220;document&#8221;. It is used by the <tt class="docutils literal"><span class="pre">UploadActivity</span></tt> to show the image of the document.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="customizable-dimensions">
<h4>Customizable Dimensions<a class="headerlink" href="#customizable-dimensions" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">action_bar_title_size</span></tt></dt>
<dd>Size of the action bar&#8217;s title. Used only if a custom font is also set for the action bar&#8217;s title.</dd>
<dt><tt class="docutils literal"><span class="pre">document_outline_width</span></tt></dt>
<dd>Width of the document outline in the ScannerActivity&#8217;s camera viewfinder.</dd>
<dt><tt class="docutils literal"><span class="pre">help_text_size</span></tt></dt>
<dd>Size of the help text font.</dd>
<dt><tt class="docutils literal"><span class="pre">help_pager_title_strip_font_size</span></tt></dt>
<dd>Size of the title strip text in the HelpActivity.</dd>
<dt><tt class="docutils literal"><span class="pre">capture_heading_text_size</span></tt></dt>
<dd>Size of the heading text in the CaptureActivity.</dd>
</dl>
<p>Listed below is an example file which would go into the application&#8217;s <cite>res/values/dimens.xml`</cite> file.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">&quot;help_text_size&quot;</span><span class="nt">&gt;</span>20sp<span class="nt">&lt;/dimen&gt;</span>
<span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">&quot;help_pager_title_strip_font_size&quot;</span><span class="nt">&gt;</span>16sp<span class="nt">&lt;/dimen&gt;</span>
<span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">&quot;capture_heading_text_size&quot;</span><span class="nt">&gt;</span>22sp<span class="nt">&lt;/dimen&gt;</span>
<span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">&quot;action_bar_title_size&quot;</span><span class="nt">&gt;</span>18sp<span class="nt">&lt;/dimen&gt;</span>
<span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">&quot;document_outline_width&quot;</span><span class="nt">&gt;</span>2dp<span class="nt">&lt;/dimen&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="debug-options">
<h4>Debug Options<a class="headerlink" href="#debug-options" title="Permalink to this headline">¶</a></h4>
<div class="section" id="enabling-the-framemeter">
<h5>Enabling the framemeter<a class="headerlink" href="#enabling-the-framemeter" title="Permalink to this headline">¶</a></h5>
<p>The framemeter is displayed on the upper right corner of the scanner activity and displays how long it takes to process
one camera frame. The lower the number, the faster Gini can process images on the device. Which basically means that
lower numbers are better.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;integer</span> <span class="na">name=</span><span class="s">&quot;net.gini.android.vision.show_processing_average&quot;</span><span class="nt">&gt;</span>0<span class="nt">&lt;/integer&gt;</span>
</pre></div>
</div>
<p>The value is an integer describing the framemeter&#8217;s visibility
<a class="reference external" href="http://developer.android.com/reference/android/view/View.html#attr_android:visibility">as described in the android documentation</a>.
Usually you will use <tt class="docutils literal"><span class="pre">0</span></tt> while debugging or testing and <tt class="docutils literal"><span class="pre">2</span></tt> in release builds.</p>
</div>
</div>
</div>
<span id="document-guides/logging"></span><div class="section" id="logging">
<span id="guide-logging"></span><h3>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h3>
<p>The logging facility of the Gini Vision library for Android is based on <a class="reference external" href="http://www.slf4J.org">SLF4j</a>.
The Simple Logging Facade for Java (SLF4J) serves as a simple facade or abstraction for various logging
frameworks (e.g. java.util.logging, logback, log4j) allowing the end user to plug in the desired logging framework at <em>deployment</em> time. This gives the App Developer the freedom of choice. If no SLF4J binding is found on the classpath, then SLF4J will default to a <em>no-operation</em> implementation.</p>
<p>The Gini Vision Library uses logging for debugging and error reporting at the moment.</p>
<div class="section" id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h4>
<p>In order to use logging you have to add a SLF4J binding to the classpath of your app. If you wan&#8217;t to use <a class="reference external" href="http://logback.qos.ch">logback</a> for instance the logback dependencies must be present in the dependencies configuration of your <em>build.gradle</em> file.</p>
<div class="highlight-groovy"><div class="highlight"><pre> <span class="n">dependencies</span><span class="o">{</span>
    <span class="o">...</span>
    <span class="n">compile</span> <span class="s1">&#39;com.github.tony19:logback-android-core:1.1.1-3&#39;</span>
    <span class="n">compile</span> <span class="s1">&#39;com.github.tony19:logback-android-classic:1.1.1-3&#39;</span>
    <span class="n">compile</span> <span class="s1">&#39;org.slf4j:slf4j-api:1.7.6&#39;</span>
    <span class="o">...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Furthermore, logback itself must be configured. This can be done either via a groovy script (<tt class="docutils literal"><span class="pre">logback.groovy</span></tt>, a xml file (<tt class="docutils literal"><span class="pre">logback.xml</span></tt>) or directly in the application code. Here is a short example for configuring logback to append to the <tt class="docutils literal"><span class="pre">logcat</span></tt> logging facility.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">final</span> <span class="n">LoggerContext</span> <span class="n">lc</span> <span class="o">=</span> <span class="o">(</span><span class="n">LoggerContext</span><span class="o">)</span> <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getILoggerFactory</span><span class="o">();</span>
<span class="n">lc</span><span class="o">.</span><span class="na">reset</span><span class="o">();</span>

<span class="c1">// setup LogcatAppender</span>
<span class="kd">final</span> <span class="n">PatternLayoutEncoder</span> <span class="n">layoutEncoder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PatternLayoutEncoder</span><span class="o">();</span>
<span class="n">layoutEncoder</span><span class="o">.</span><span class="na">setContext</span><span class="o">(</span><span class="n">lc</span><span class="o">);</span>
<span class="n">layoutEncoder</span><span class="o">.</span><span class="na">setPattern</span><span class="o">(</span><span class="s">&quot;[%thread] %msg%n&quot;</span><span class="o">);</span>
<span class="n">layoutEncoder</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>

<span class="kd">final</span> <span class="n">LogcatAppender</span> <span class="n">logcatAppender</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LogcatAppender</span><span class="o">();</span>
<span class="n">logcatAppender</span><span class="o">.</span><span class="na">setContext</span><span class="o">(</span><span class="n">lc</span><span class="o">);</span>
<span class="n">logcatAppender</span><span class="o">.</span><span class="na">setEncoder</span><span class="o">(</span><span class="n">layoutEncoder</span><span class="o">);</span>
<span class="n">logcatAppender</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>

<span class="kd">final</span> <span class="n">ch</span><span class="o">.</span><span class="na">qos</span><span class="o">.</span><span class="na">logback</span><span class="o">.</span><span class="na">classic</span><span class="o">.</span><span class="na">Logger</span> <span class="n">root</span> <span class="o">=</span> <span class="o">(</span><span class="n">ch</span><span class="o">.</span><span class="na">qos</span><span class="o">.</span><span class="na">logback</span><span class="o">.</span><span class="na">classic</span><span class="o">.</span><span class="na">Logger</span><span class="o">)</span> <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">Logger</span><span class="o">.</span><span class="na">ROOT_LOGGER_NAME</span><span class="o">);</span>
<span class="n">root</span><span class="o">.</span><span class="na">addAppender</span><span class="o">(</span><span class="n">logcatAppender</span><span class="o">);</span>
</pre></div>
</div>
</div>
</div>
<span id="document-changelog"></span><div class="section" id="changelog">
<h3>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id1">
<h4>1.0.231 (2016-07-22)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<div class="section" id="features">
<h5>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Updated OpenCV to version 3.1.0.</li>
</ul>
</div>
<div class="section" id="bugfix">
<h5>Bugfix<a class="headerlink" href="#bugfix" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Fixed the Samsung Galaxy S5 Neo camera crash.</li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h4>1.0.220 (2016-03-01)<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id3">
<h5>Bugfix<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Does not crash anymore when the document outline view is not ready and a document was already detected.</li>
</ul>
</div>
</div>
<div class="section" id="id4">
<h4>1.0.216 (2016-02-25)<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id5">
<h5>Features<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Jpeg metadata extended to contain the orientation of the picture derived from the device orientation.</li>
</ul>
</div>
</div>
<div class="section" id="id6">
<h4>1.0.212 (2016-01-20)<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<div class="section" id="fix">
<h5>Fix<a class="headerlink" href="#fix" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Undid moving of a few classes into a new package to keep the imports as they were before 1.0.210.</li>
</ul>
</div>
</div>
<div class="section" id="id7">
<h4>1.0.210 (2016-01-20)<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id8">
<h5>Features<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>The scanner can return a jpeg with metadata besides the Bitmap, if requested.</li>
<li><tt class="docutils literal"><span class="pre">UploadActivity</span></tt> can show an indeterminate <tt class="docutils literal"><span class="pre">ProgressBar</span></tt> in the center of the picture instead of the sprite animation.</li>
</ul>
</div>
</div>
<div class="section" id="id9">
<h4>1.0.204 (2015-12-09)<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<div class="section" id="bugfixes">
<h5>Bugfixes<a class="headerlink" href="#bugfixes" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Uploaded image orientation set correctly on devices which set the rotation in the EXIF header.</li>
<li>Picture shown in the upload screen scaled down to half its original size to prevent exceeding the max texture size on devices with high MP cameras.</li>
</ul>
</div>
</div>
<div class="section" id="id10">
<h4>1.0.200 (2015-12-07)<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id11">
<h5>Bugfix<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Camera orientation setting fixed for devices with reverse-landscape camera sensor orientation (like the Nexus 5X).</li>
</ul>
</div>
</div>
<div class="section" id="id12">
<h4>1.0.197 (2015-11-25)<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id13">
<h5>Bugfix<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Broken public API fixed. ScannerActivity.Error works again.</li>
</ul>
</div>
</div>
<div class="section" id="id14">
<h4>1.0.194 (2015-11-24)<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id15">
<h5>Features<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Taking of screenshots can be prevented by setting the <tt class="docutils literal"><span class="pre">EXTRA_SET_WINDOW_FLAG_SECURE</span></tt> to <tt class="docutils literal"><span class="pre">true</span></tt> for the <tt class="docutils literal"><span class="pre">ScannerActivity</span></tt> or <tt class="docutils literal"><span class="pre">CaptureActivity</span></tt>.
<tt class="docutils literal"><span class="pre">HelpActivity</span></tt> and <tt class="docutils literal"><span class="pre">UploadActivity</span></tt> will also prevent taking of screenshots.</li>
</ul>
</div>
</div>
<div class="section" id="id16">
<h4>1.0.190 (2015-11-13)<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id17">
<h5>Bugfixes<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Scanner dynamic titles used only if set. No need to set all the scanner titles, if a static custom title is required.</li>
<li>Missing doctype extra crash fixed. If no doctype extra, invoice doctype is assumed.</li>
<li>Device without a linear acceleration sensor or an accelerometer will be able to take photos, too</li>
</ul>
</div>
</div>
<div class="section" id="id18">
<h4>1.0.182 (2015-10-15)<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id19">
<h5>Features<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Back button can be enabled in the ActionBar.</li>
<li>Title can be centered in the ActionBar.</li>
<li>Dot page indicator can be enabled for the help screens.</li>
</ul>
</div>
</div>
<div class="section" id="id20">
<h4>1.0.170 (2015-09-23)<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id21">
<h5>Features<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Changelog is public in the documentation.</li>
</ul>
</div>
<div class="section" id="id22">
<h5>Bugfixes<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Memory check reliability improved.</li>
<li>Images in the help screens dynamically scaled to fit the screen.</li>
<li>Fixed a camera related crash when quickly opening/closing the ScannerActivity.</li>
<li>UploadActivity label is optional again.</li>
</ul>
</div>
</div>
<div class="section" id="id23">
<h4>1.0.162 (2015-09-11)<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id24">
<h5>Features<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Camera viewfinder is centered.</li>
<li>ActionBar title font and size customizable.</li>
<li>Dynamic ScannerActivity title based on the provided DocumentType.</li>
<li>UploadActivity start/stop animation methods can be overridden.</li>
<li>Document outline width customizable.</li>
<li>CaptureActivity heading font and size customizable.</li>
<li>HelpActivity pager title strip text size customizable.</li>
</ul>
</div>
</div>
<div class="section" id="id25">
<h4>1.0.158 (2015-09-09)<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id26">
<h5>Bugfixes<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Camera is closed independently of the scannerlib image processing and
therefore is closed quicker after exiting the ScannerActivity</li>
<li>Upload activity is not started when the back button is pressed at the
right time after a picture was taken.</li>
</ul>
</div>
</div>
<div class="section" id="id27">
<h4>1.0.156 (2015-08-28)<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id28">
<h5>Features<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Perspective message, if the phone is held at a too high angle
relative to the document</li>
<li>Stricter border tolerance (document edges must be nearer to the
camera view finder edges)</li>
</ul>
</div>
<div class="section" id="id29">
<h5>Bugfix<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Continuous focus mode removed, caused unexpected behaviours</li>
</ul>
</div>
</div>
<div class="section" id="id30">
<h4>1.0.153 (2015-08-21)<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id31">
<h5>Features<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Custom activity can be set for the help, can also be a HelpActivity
subclass.</li>
</ul>
</div>
</div>
<div class="section" id="id32">
<h4>1.0.150 (2015-08-19)<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id33">
<h5>Bugfix<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Crash fixed when focusing requested and camera not yet ready.</li>
</ul>
</div>
</div>
<div class="section" id="id34">
<h4>1.0.147 (2015-08-18)<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id35">
<h5>Features<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Continuous auto-focus with an auto-focus cycle before taking a
picture, if not in focus.</li>
<li>v7 Support Library can be used when using the
compatRelease/compatDebug library configuration.</li>
</ul>
</div>
<div class="section" id="id36">
<h5>Bugfix<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Flash is not started when the onboarding is shown on launch in the
ScannerActivity.</li>
</ul>
</div>
</div>
<div class="section" id="id37">
<h4>1.0.139 (2015-08-17)<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id38">
<h5>Features<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Help text font can be customized to use a system font or a custom
font.</li>
</ul>
</div>
</div>
<div class="section" id="id39">
<h4>1.0.137 (2015-08-12)<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id40">
<h5>Bugfix<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Memory leak related to the upload animation which happened on some
devices (Samsung, Sony) fixed.</li>
</ul>
</div>
</div>
<div class="section" id="id41">
<h4>1.0.136 (2015-08-11)<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id42">
<h5>Fix<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Removed the unused shutter images.</li>
</ul>
</div>
</div>
<div class="section" id="id43">
<h4>1.0.135 (2015-08-07)<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id44">
<h5>Features<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Customizable background colors for the activities.</li>
</ul>
</div>
<div class="section" id="id45">
<h5>Bugfixes<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Accelerometer handling sensitivity was too high, reverted it to
version 1.0.131 sensitivity.</li>
</ul>
</div>
</div>
<div class="section" id="id46">
<h4>1.0.132 (2015-08-05)<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id47">
<h5>Features<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Accelerometer handling improved.</li>
</ul>
</div>
<div class="section" id="id48">
<h5>Bugfixes<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>White overlay shutter is removed, if document was not good enough
after taking a picture.</li>
</ul>
</div>
</div>
<div class="section" id="id49">
<h4>1.0.131 (2015-08-04)<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id50">
<h5>Features<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Configurable outline for camera overlay.</li>
<li>Help screen can be shown the first time the ginivision library is
launched during an application run.</li>
<li>Shutter animation like on iOS: animate a white overlay view from 0 to
0.8 alpha in 300ms.</li>
</ul>
</div>
</div>
</div>
<span id="document-license"></span><div class="section" id="license">
<h3>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h3>
<p>The Gini Android Vision Library is licensed under a Private License and also
integrates several third party libraries. Always make sure to ship all license
notices and permissions with your application:</p>
<div class="highlight-python"><div class="highlight"><pre>Copyright (c) 2014-2015, Gini GmbH
All rights reserved.

The Gini Vision Library is licensed through Gini GmbH (&quot;Gini&quot;) and may not be
used, altered or copied in any way without explicit permission by Gini. The
terms of usage are defined in a separate usage agreement between Gini and the
licensee, where the licensee can gain access to a non-exclusive,
non-transferable usage right which is restricted for the time of a contractual
relationship between Gini and the licensee.
</pre></div>
</div>
<div class="section" id="licenses-and-acknowledgements-for-incorporated-software">
<h4>Licenses and Acknowledgements for Incorporated Software<a class="headerlink" href="#licenses-and-acknowledgements-for-incorporated-software" title="Permalink to this headline">¶</a></h4>
<p>This library makes use of the following third party libraries:</p>
<div class="section" id="opencv">
<h5>OpenCV<a class="headerlink" href="#opencv" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre>                          License Agreement
               For Open Source Computer Vision Library
                       (3-clause BSD License)

Copyright (C) 2000-2015, Intel Corporation, all rights reserved.
Copyright (C) 2009-2011, Willow Garage Inc., all rights reserved.
Copyright (C) 2009-2015, NVIDIA Corporation, all rights reserved.
Copyright (C) 2010-2013, Advanced Micro Devices, Inc., all rights reserved.
Copyright (C) 2015, OpenCV Foundation, all rights reserved.
Copyright (C) 2015, Itseez Inc., all rights reserved.
Third party copyrights are property of their respective owners.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

  * Redistributions of source code must retain the above copyright notice,
    this list of conditions and the following disclaimer.

  * Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.

  * Neither the names of the copyright holders nor the names of the contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

This software is provided by the copyright holders and contributors &quot;as is&quot; and
any express or implied warranties, including, but not limited to, the implied
warranties of merchantability and fitness for a particular purpose are disclaimed.
In no event shall copyright holders or contributors be liable for any direct,
indirect, incidental, special, exemplary, or consequential damages
(including, but not limited to, procurement of substitute goods or services;
loss of use, data, or profits; or business interruption) however caused
and on any theory of liability, whether in contract, strict liability,
or tort (including negligence or otherwise) arising in any way out of
the use of this software, even if advised of the possibility of such damage.
</pre></div>
</div>
</div>
<div class="section" id="slf4j">
<h5>SLF4J<a class="headerlink" href="#slf4j" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre>Copyright (c) 2004-2014 QOS.ch
All rights reserved.

Permission is hereby granted, free  of charge, to any person obtaining
a  copy  of this  software  and  associated  documentation files  (the
&quot;Software&quot;), to  deal in  the Software without  restriction, including
without limitation  the rights to  use, copy, modify,  merge, publish,
distribute,  sublicense, and/or sell  copies of  the Software,  and to
permit persons to whom the Software  is furnished to do so, subject to
the following conditions:

The  above  copyright  notice  and  this permission  notice  shall  be
included in all copies or substantial portions of the Software.

THE  SOFTWARE IS  PROVIDED  &quot;AS  IS&quot;, WITHOUT  WARRANTY  OF ANY  KIND,
EXPRESS OR  IMPLIED, INCLUDING  BUT NOT LIMITED  TO THE  WARRANTIES OF
MERCHANTABILITY,    FITNESS    FOR    A   PARTICULAR    PURPOSE    AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE,  ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
</pre></div>
</div>
</div>
<div class="section" id="apache-commons-sanselan">
<h5>Apache Commons Sanselan<a class="headerlink" href="#apache-commons-sanselan" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre>                              Apache License
                        Version 2.0, January 2004
                     http://www.apache.org/licenses/

TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

1. Definitions.

   &quot;License&quot; shall mean the terms and conditions for use, reproduction,
   and distribution as defined by Sections 1 through 9 of this document.

   &quot;Licensor&quot; shall mean the copyright owner or entity authorized by
   the copyright owner that is granting the License.

   &quot;Legal Entity&quot; shall mean the union of the acting entity and all
   other entities that control, are controlled by, or are under common
   control with that entity. For the purposes of this definition,
   &quot;control&quot; means (i) the power, direct or indirect, to cause the
   direction or management of such entity, whether by contract or
   otherwise, or (ii) ownership of fifty percent (50%) or more of the
   outstanding shares, or (iii) beneficial ownership of such entity.

   &quot;You&quot; (or &quot;Your&quot;) shall mean an individual or Legal Entity
   exercising permissions granted by this License.

   &quot;Source&quot; form shall mean the preferred form for making modifications,
   including but not limited to software source code, documentation
   source, and configuration files.

   &quot;Object&quot; form shall mean any form resulting from mechanical
   transformation or translation of a Source form, including but
   not limited to compiled object code, generated documentation,
   and conversions to other media types.

   &quot;Work&quot; shall mean the work of authorship, whether in Source or
   Object form, made available under the License, as indicated by a
   copyright notice that is included in or attached to the work
   (an example is provided in the Appendix below).

   &quot;Derivative Works&quot; shall mean any work, whether in Source or Object
   form, that is based on (or derived from) the Work and for which the
   editorial revisions, annotations, elaborations, or other modifications
   represent, as a whole, an original work of authorship. For the purposes
   of this License, Derivative Works shall not include works that remain
   separable from, or merely link (or bind by name) to the interfaces of,
   the Work and Derivative Works thereof.

   &quot;Contribution&quot; shall mean any work of authorship, including
   the original version of the Work and any modifications or additions
   to that Work or Derivative Works thereof, that is intentionally
   submitted to Licensor for inclusion in the Work by the copyright owner
   or by an individual or Legal Entity authorized to submit on behalf of
   the copyright owner. For the purposes of this definition, &quot;submitted&quot;
   means any form of electronic, verbal, or written communication sent
   to the Licensor or its representatives, including but not limited to
   communication on electronic mailing lists, source code control systems,
   and issue tracking systems that are managed by, or on behalf of, the
   Licensor for the purpose of discussing and improving the Work, but
   excluding communication that is conspicuously marked or otherwise
   designated in writing by the copyright owner as &quot;Not a Contribution.&quot;

   &quot;Contributor&quot; shall mean Licensor and any individual or Legal Entity
   on behalf of whom a Contribution has been received by Licensor and
   subsequently incorporated within the Work.

2. Grant of Copyright License. Subject to the terms and conditions of
   this License, each Contributor hereby grants to You a perpetual,
   worldwide, non-exclusive, no-charge, royalty-free, irrevocable
   copyright license to reproduce, prepare Derivative Works of,
   publicly display, publicly perform, sublicense, and distribute the
   Work and such Derivative Works in Source or Object form.

3. Grant of Patent License. Subject to the terms and conditions of
   this License, each Contributor hereby grants to You a perpetual,
   worldwide, non-exclusive, no-charge, royalty-free, irrevocable
   (except as stated in this section) patent license to make, have made,
   use, offer to sell, sell, import, and otherwise transfer the Work,
   where such license applies only to those patent claims licensable
   by such Contributor that are necessarily infringed by their
   Contribution(s) alone or by combination of their Contribution(s)
   with the Work to which such Contribution(s) was submitted. If You
   institute patent litigation against any entity (including a
   cross-claim or counterclaim in a lawsuit) alleging that the Work
   or a Contribution incorporated within the Work constitutes direct
   or contributory patent infringement, then any patent licenses
   granted to You under this License for that Work shall terminate
   as of the date such litigation is filed.

4. Redistribution. You may reproduce and distribute copies of the
   Work or Derivative Works thereof in any medium, with or without
   modifications, and in Source or Object form, provided that You
   meet the following conditions:

   (a) You must give any other recipients of the Work or
       Derivative Works a copy of this License; and

   (b) You must cause any modified files to carry prominent notices
       stating that You changed the files; and

   (c) You must retain, in the Source form of any Derivative Works
       that You distribute, all copyright, patent, trademark, and
       attribution notices from the Source form of the Work,
       excluding those notices that do not pertain to any part of
       the Derivative Works; and

   (d) If the Work includes a &quot;NOTICE&quot; text file as part of its
       distribution, then any Derivative Works that You distribute must
       include a readable copy of the attribution notices contained
       within such NOTICE file, excluding those notices that do not
       pertain to any part of the Derivative Works, in at least one
       of the following places: within a NOTICE text file distributed
       as part of the Derivative Works; within the Source form or
       documentation, if provided along with the Derivative Works; or,
       within a display generated by the Derivative Works, if and
       wherever such third-party notices normally appear. The contents
       of the NOTICE file are for informational purposes only and
       do not modify the License. You may add Your own attribution
       notices within Derivative Works that You distribute, alongside
       or as an addendum to the NOTICE text from the Work, provided
       that such additional attribution notices cannot be construed
       as modifying the License.

   You may add Your own copyright statement to Your modifications and
   may provide additional or different license terms and conditions
   for use, reproduction, or distribution of Your modifications, or
   for any such Derivative Works as a whole, provided Your use,
   reproduction, and distribution of the Work otherwise complies with
   the conditions stated in this License.

5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.

6. Trademarks. This License does not grant permission to use the trade
   names, trademarks, service marks, or product names of the Licensor,
   except as required for reasonable and customary use in describing the
   origin of the Work and reproducing the content of the NOTICE file.

7. Disclaimer of Warranty. Unless required by applicable law or
   agreed to in writing, Licensor provides the Work (and each
   Contributor provides its Contributions) on an &quot;AS IS&quot; BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
   implied, including, without limitation, any warranties or conditions
   of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
   PARTICULAR PURPOSE. You are solely responsible for determining the
   appropriateness of using or redistributing the Work and assume any
   risks associated with Your exercise of permissions under this License.

8. Limitation of Liability. In no event and under no legal theory,
   whether in tort (including negligence), contract, or otherwise,
   unless required by applicable law (such as deliberate and grossly
   negligent acts) or agreed to in writing, shall any Contributor be
   liable to You for damages, including any direct, indirect, special,
   incidental, or consequential damages of any character arising as a
   result of this License or out of the use or inability to use the
   Work (including but not limited to damages for loss of goodwill,
   work stoppage, computer failure or malfunction, or any and all
   other commercial damages or losses), even if such Contributor
   has been advised of the possibility of such damages.

9. Accepting Warranty or Additional Liability. While redistributing
   the Work or Derivative Works thereof, You may choose to offer,
   and charge a fee for, acceptance of support, warranty, indemnity,
   or other liability obligations and/or rights consistent with this
   License. However, in accepting such obligations, You may act only
   on Your own behalf and on Your sole responsibility, not on behalf
   of any other Contributor, and only if You agree to indemnify,
   defend, and hold each Contributor harmless for any liability
   incurred by, or claims asserted against, such Contributor by reason
   of your accepting any such warranty or additional liability.

END OF TERMS AND CONDITIONS

APPENDIX: How to apply the Apache License to your work.

   To apply the Apache License to your work, attach the following
   boilerplate notice, with the fields enclosed by brackets &quot;[]&quot;
   replaced with your own identifying information. (Don&#39;t include
   the brackets!)  The text should be enclosed in the appropriate
   comment syntax for the file format. We also recommend that a
   file or class name and description of purpose be included on the
   same &quot;printed page&quot; as the copyright notice for easier
   identification within third-party archives.

Copyright [yyyy] [name of copyright owner]

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.


 EXTERNAL COMPONENTS

 Apache Commons Sanselan includes a number of components with separate copyright
 notices and license terms. Your use of these components is subject to the terms
 and conditions of the following licenses.

 rgb.txt comes from the X.org project and is under the following licenses:

    Copyright 1985, 1989, 1998  The Open Group

    Permission to use, copy, modify, distribute, and sell this software and its
    documentation for any purpose is hereby granted without fee, provided that
    the above copyright notice appear in all copies and that both that
    copyright notice and this permission notice appear in supporting
    documentation.

    The above copyright notice and this permission notice shall be included
    in all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS
    OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
    IN NO EVENT SHALL THE OPEN GROUP BE LIABLE FOR ANY CLAIM, DAMAGES OR
    OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
    ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
    OTHER DEALINGS IN THE SOFTWARE.

    Except as contained in this notice, the name of The Open Group shall
    not be used in advertising or otherwise to promote the sale, use or
    other dealings in this Software without prior written authorization
    from The Open Group.

    Copyright (c) 1994, 2008, Oracle and/or its affiliates. All rights reserved.

    Permission is hereby granted, free of charge, to any person obtaining a
    copy of this software and associated documentation files (the &quot;Software&quot;),
    to deal in the Software without restriction, including without limitation
    the rights to use, copy, modify, merge, publish, distribute, sublicense,
    and/or sell copies of the Software, and to permit persons to whom the
    Software is furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice (including the next
    paragraph) shall be included in all copies or substantial portions of the
    Software.

    THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
    THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
    DEALINGS IN THE SOFTWARE.
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
    </p>
  </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-19408970-13', 'gini.net');
      ga('send', 'pageview');
  </script>
  
</body>
</html>